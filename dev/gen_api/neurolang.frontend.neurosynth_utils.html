<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>neurolang.frontend.neurosynth_utils module &#8212; neurolang 0.1a20.dev6+geec6b37 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=284a2d1d" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <script src="../_static/documentation_options.js?v=975c32dc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          neurolang</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1a20.dev6+geec6b37</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../tutorial.html">Tutorial</a></li>
                <li><a href="../auto_examples/index.html">Gallery</a></li>
                <li><a href="../authors.html">Authors</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing Neurolang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Get Started with NeuroLang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples of the NeuroLang language environment.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_logic_programming.html">NeuroLang for Logic Programmers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">neurolang.frontend.neurosynth_utils module</a><ul>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.StudyID"><code class="docutils literal notranslate"><span class="pre">StudyID</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.TfIDf"><code class="docutils literal notranslate"><span class="pre">TfIDf</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_feature_data"><code class="docutils literal notranslate"><span class="pre">fetch_feature_data()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_neurosynth_peak_data"><code class="docutils literal notranslate"><span class="pre">fetch_neurosynth_peak_data()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_study_metadata"><code class="docutils literal notranslate"><span class="pre">fetch_study_metadata()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.get_ns_mni_peaks_reported"><code class="docutils literal notranslate"><span class="pre">get_ns_mni_peaks_reported()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.get_ns_term_study_associations"><code class="docutils literal notranslate"><span class="pre">get_ns_term_study_associations()</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">neurolang.frontend.neurosynth_utils module</a><ul>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.StudyID"><code class="docutils literal notranslate"><span class="pre">StudyID</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.TfIDf"><code class="docutils literal notranslate"><span class="pre">TfIDf</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_feature_data"><code class="docutils literal notranslate"><span class="pre">fetch_feature_data()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_neurosynth_peak_data"><code class="docutils literal notranslate"><span class="pre">fetch_neurosynth_peak_data()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.fetch_study_metadata"><code class="docutils literal notranslate"><span class="pre">fetch_study_metadata()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.get_ns_mni_peaks_reported"><code class="docutils literal notranslate"><span class="pre">get_ns_mni_peaks_reported()</span></code></a></li>
<li><a class="reference internal" href="#neurolang.frontend.neurosynth_utils.get_ns_term_study_associations"><code class="docutils literal notranslate"><span class="pre">get_ns_term_study_associations()</span></code></a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="module-neurolang.frontend.neurosynth_utils">
<span id="neurolang-frontend-neurosynth-utils-module"></span><h1>neurolang.frontend.neurosynth_utils module<a class="headerlink" href="#module-neurolang.frontend.neurosynth_utils" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.StudyID">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">StudyID</span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.StudyID" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">capitalize</span></code>(/)</p></td>
<td><p>Return a capitalized version of the string.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">casefold</span></code>(/)</p></td>
<td><p>Return a version of the string suitable for caseless comparisons.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">center</span></code>(width[, fillchar])</p></td>
<td><p>Return a centered string of length width.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">count</span></code>(sub[, start[, end]])</p></td>
<td><p>Return the number of non-overlapping occurrences of substring sub in string S[start:end].</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">encode</span></code>(/[, encoding, errors])</p></td>
<td><p>Encode the string using the codec registered for encoding.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">endswith</span></code>(suffix[, start[, end]])</p></td>
<td><p>Return True if S ends with the specified suffix, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">expandtabs</span></code>(/[, tabsize])</p></td>
<td><p>Return a copy where all tab characters are expanded using spaces.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find</span></code>(sub[, start[, end]])</p></td>
<td><p>Return the lowest index in S where substring sub is found, such that sub is contained within S[start:end].</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">format</span></code>(*args, **kwargs)</p></td>
<td><p>Return a formatted version of S, using substitutions from args and kwargs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">format_map</span></code>(mapping)</p></td>
<td><p>Return a formatted version of S, using substitutions from mapping.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code>(sub[, start[, end]])</p></td>
<td><p>Return the lowest index in S where substring sub is found, such that sub is contained within S[start:end].</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isalnum</span></code>(/)</p></td>
<td><p>Return True if the string is an alpha-numeric string, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isalpha</span></code>(/)</p></td>
<td><p>Return True if the string is an alphabetic string, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isascii</span></code>(/)</p></td>
<td><p>Return True if all characters in the string are ASCII, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isdecimal</span></code>(/)</p></td>
<td><p>Return True if the string is a decimal string, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isdigit</span></code>(/)</p></td>
<td><p>Return True if the string is a digit string, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isidentifier</span></code>(/)</p></td>
<td><p>Return True if the string is a valid Python identifier, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">islower</span></code>(/)</p></td>
<td><p>Return True if the string is a lowercase string, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isnumeric</span></code>(/)</p></td>
<td><p>Return True if the string is a numeric string, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isprintable</span></code>(/)</p></td>
<td><p>Return True if the string is printable, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isspace</span></code>(/)</p></td>
<td><p>Return True if the string is a whitespace string, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">istitle</span></code>(/)</p></td>
<td><p>Return True if the string is a title-cased string, False otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">isupper</span></code>(/)</p></td>
<td><p>Return True if the string is an uppercase string, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">join</span></code>(iterable, /)</p></td>
<td><p>Concatenate any number of strings.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ljust</span></code>(width[, fillchar])</p></td>
<td><p>Return a left-justified string of length width.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">lower</span></code>(/)</p></td>
<td><p>Return a copy of the string converted to lowercase.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">lstrip</span></code>([chars])</p></td>
<td><p>Return a copy of the string with leading whitespace removed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">maketrans</span></code>(x[, y, z])</p></td>
<td><p>Return a translation table usable for str.translate().</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">partition</span></code>(sep, /)</p></td>
<td><p>Partition the string into three parts using the given separator.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">removeprefix</span></code>(prefix, /)</p></td>
<td><p>Return a str with the given prefix string removed if present.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">removesuffix</span></code>(suffix, /)</p></td>
<td><p>Return a str with the given suffix string removed if present.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">replace</span></code>(old, new[, count])</p></td>
<td><p>Return a copy with all occurrences of substring old replaced by new.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rfind</span></code>(sub[, start[, end]])</p></td>
<td><p>Return the highest index in S where substring sub is found, such that sub is contained within S[start:end].</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rindex</span></code>(sub[, start[, end]])</p></td>
<td><p>Return the highest index in S where substring sub is found, such that sub is contained within S[start:end].</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rjust</span></code>(width[, fillchar])</p></td>
<td><p>Return a right-justified string of length width.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rpartition</span></code>(sep, /)</p></td>
<td><p>Partition the string into three parts using the given separator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rsplit</span></code>(/[, sep, maxsplit])</p></td>
<td><p>Return a list of the words in the string, using sep as the delimiter string.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rstrip</span></code>([chars])</p></td>
<td><p>Return a copy of the string with trailing whitespace removed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code>(/[, sep, maxsplit])</p></td>
<td><p>Return a list of the words in the string, using sep as the delimiter string.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">splitlines</span></code>(/[, keepends])</p></td>
<td><p>Return a list of the lines in the string, breaking at line boundaries.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">startswith</span></code>(prefix[, start[, end]])</p></td>
<td><p>Return True if S starts with the specified prefix, False otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">strip</span></code>([chars])</p></td>
<td><p>Return a copy of the string with leading and trailing whitespace removed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">swapcase</span></code>(/)</p></td>
<td><p>Convert uppercase characters to lowercase and lowercase characters to uppercase.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">title</span></code>(/)</p></td>
<td><p>Return a version of the string where each word is titlecased.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">translate</span></code>(table, /)</p></td>
<td><p>Replace each character in the string using the given translation table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper</span></code>(/)</p></td>
<td><p>Return a copy of the string converted to uppercase.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">zfill</span></code>(width, /)</p></td>
<td><p>Pad a numeric string with zeros on the left, to fill a field of the given width.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.TfIDf">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">TfIDf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.TfIDf" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">imag</span></code></dt><dd><p>the imaginary part of a complex number</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">real</span></code></dt><dd><p>the real part of a complex number</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_integer_ratio</span></code>(/)</p></td>
<td><p>Return integer ratio.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conjugate</span></code>(/)</p></td>
<td><p>Return self, the complex conjugate of any float.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromhex</span></code>(string, /)</p></td>
<td><p>Create a floating-point number from a hexadecimal string.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">hex</span></code>(/)</p></td>
<td><p>Return a hexadecimal representation of a floating-point number.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_integer</span></code>(/)</p></td>
<td><p>Return True if the float is an integer.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.fetch_feature_data">
<span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">fetch_feature_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_study_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.fetch_feature_data" title="Link to this definition">¶</a></dt>
<dd><p>Download if needed the <cite>tfidf_features.npz</cite> file from Neurosynth and
load it into a pandas Dataframe. The <cite>tfidf_features</cite> contains feature
values for different types of “vocabularies”.</p>
<p>The features dataframe is stored as a compressed, sparse matrix.
Once loaded and reconstructed into a dense matrix, it contains one row
per study and one column per label. The associated labels are loaded,
as well as the study ids, to reconstruct a dataframe of size N x P,
where N is the number of studies in the Neurosynth dataset, and P is
the number of words in the vocabulary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">Path</span></dt><dd><p>the path for the directory where downloaded data should be saved.</p>
</dd>
<dt><strong>version</strong><span class="classifier">int, optional</span></dt><dd><p>the neurosynth data version, by default 7</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int, optional</span></dt><dd><p>verbose param for nilearn’s <cite>_fetch_files</cite>, by default 1</p>
</dd>
<dt><strong>convert_study_ids</strong><span class="classifier">bool, optional</span></dt><dd><p>if True, cast study ids as <cite>StudyID</cite>, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>the features dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.fetch_neurosynth_peak_data">
<span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">fetch_neurosynth_peak_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_study_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.fetch_neurosynth_peak_data" title="Link to this definition">¶</a></dt>
<dd><p>Download if needed the <cite>coordinates.tsv.gz</cite> file from Neurosynth and
load it into a pandas DataFrame.</p>
<p>The <cite>coordinates.tsv.gz</cite> contains the coordinates for the peaks
reported by studies in the Neurosynth dataset. It contains one row per
coordinate reported.</p>
<p>The metadata for each study is also loaded to include the space in
which the coordinates are reported. The peak_data dataframe therefore
has PR rows, PR being the number of reported peaks in the Neurosynth
dataset.</p>
<dl class="simple">
<dt>The columns (for version 7) are:</dt><dd><ul class="simple">
<li><p>id</p></li>
<li><p>table_id</p></li>
<li><p>table_num</p></li>
<li><p>peak_id</p></li>
<li><p>space</p></li>
<li><p>x</p></li>
<li><p>y</p></li>
<li><p>z</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">Path</span></dt><dd><p>the path for the directory where downloaded data should be saved.</p>
</dd>
<dt><strong>version</strong><span class="classifier">int, optional</span></dt><dd><p>the neurosynth data version, by default 7</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int, optional</span></dt><dd><p>verbose param for nilearn’s <cite>_fetch_files</cite>, by default 1</p>
</dd>
<dt><strong>convert_study_ids</strong><span class="classifier">bool, optional</span></dt><dd><p>if True, cast study ids as <cite>StudyID</cite>, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>the peak dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.fetch_study_metadata">
<span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">fetch_study_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.fetch_study_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Download if needed the <cite>metadata.tsv.gz</cite> file from Neurosynth and load
it into a pandas DataFrame.</p>
<p>The metadata table contains the metadata for each study. Each study (ID)
is stored on its own line. These IDs are in the same order as the id
column of the associated <cite>coordinates.tsv.gz</cite> file, but the rows will
differ because the coordinates file will contain multiple rows per
study. They are also in the same order as the rows in the
<cite>features.npz</cite> files for the same version.</p>
<p>The metadata will therefore have N rows, N being the number of studies
in the Neurosynth dataset. The columns (for version 7) are:</p>
<blockquote>
<div><ul class="simple">
<li><p>id</p></li>
<li><p>doi</p></li>
<li><p>space</p></li>
<li><p>title</p></li>
<li><p>authors</p></li>
<li><p>year</p></li>
<li><p>journal</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">Path</span></dt><dd><p>the path for the directory where downloaded data should be saved.</p>
</dd>
<dt><strong>version</strong><span class="classifier">int, optional</span></dt><dd><p>the neurosynth data version, by default 7</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int, optional</span></dt><dd><p>verbose param for nilearn’s <cite>_fetch_files</cite>, by default 1</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>the study metadata dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.get_ns_mni_peaks_reported">
<span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">get_ns_mni_peaks_reported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_study_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.get_ns_mni_peaks_reported" title="Link to this definition">¶</a></dt>
<dd><p>Load a dataframe containing the coordinates for the peaks reported by
studies in the Neurosynth dataset. Coordinates for the peaks are in
MNI space, with coordinates that are reported in Talaraich space
converted.</p>
<p>The resulting dataframe contains one row for each peak reported. Each
row has 4 columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>id</p></li>
<li><p>x</p></li>
<li><p>y</p></li>
<li><p>z</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">Path</span></dt><dd><p>the path for the directory where downloaded data should be saved.</p>
</dd>
<dt><strong>version</strong><span class="classifier">int, optional</span></dt><dd><p>the neurosynth data version, by default 7</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int, optional</span></dt><dd><p>verbose param for nilearn’s <cite>_fetch_files</cite>, by default 1</p>
</dd>
<dt><strong>convert_study_ids</strong><span class="classifier">bool, optional</span></dt><dd><p>if True, cast study ids as <cite>StudyID</cite>, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>the peak dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="neurolang.frontend.neurosynth_utils.get_ns_term_study_associations">
<span class="sig-prename descclassname"><span class="pre">neurolang.frontend.neurosynth_utils.</span></span><span class="sig-name descname"><span class="pre">get_ns_term_study_associations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_study_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfidf_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#neurolang.frontend.neurosynth_utils.get_ns_term_study_associations" title="Link to this definition">¶</a></dt>
<dd><p>Load a dataframe containing associations between term and studies.
The dataframe contains one row for each term and study pair from the
features table in the Neurosynth dataset. With each (term, study) pair
comes the tfidf value for the term in the study.
If a tfidf threshold value is passed, only (term, study) associations
with a tfidf value &gt; tfidf_threshold will be kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">Path</span></dt><dd><p>the path for the directory where downloaded data should be saved.</p>
</dd>
<dt><strong>version</strong><span class="classifier">int, optional</span></dt><dd><p>the neurosynth data version, by default 7</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">int, optional</span></dt><dd><p>verbose param for nilearn’s <cite>_fetch_files</cite>, by default 1</p>
</dd>
<dt><strong>convert_study_ids</strong><span class="classifier">bool, optional</span></dt><dd><p>if True, cast study ids as <cite>StudyID</cite>, by default False</p>
</dd>
<dt><strong>tfidf_threshold</strong><span class="classifier">Optional[float], optional</span></dt><dd><p>the minimum tfidf value for the (term, study) associations,
by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame</dt><dd><p>the term association dataframe</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


    </div>
      
  </div>
</div> 
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/gen_api/neurolang.frontend.neurosynth_utils.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2017, Demian Wassermann et al.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container neurolang-timestamp">
    <p style="margin-top: -10px;">on 29 Nov 2023, 16:08:27</p>
</div>
  </body>
</html>